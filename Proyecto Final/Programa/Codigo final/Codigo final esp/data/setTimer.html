<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel='stylesheet' type='text/css' media='screen' href='./design.css'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
  <link rel="manifest" href="./site.webmanifest">
  <link rel="mask-icon" href="./safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
  <title>SLB_X05</title>
  <meta charset='utf-8'>
</head>

<body>
  <h1>Llenado/Calentado segun hora</h1>
  <h4 class="titl"><span id="HSV">12:30</span>hs</h4>
  <div class="Column">
    <div class="bloqueset">
      <form action="/get">
        <input type="time" id="hora" value="%HVAL%" step="900" onchange="updateHour(this)">
      </form>
      <script>
        var HVal = document.getElementById("hora").value;
        console.log(HVal);
        document.getElementById("HSV").innerHTML = HVal;
        function updateHour(element) {
          var HVal = document.getElementById("hora").value;
          console.log(HVal);
          document.getElementById("HSV").innerHTML = HVal;
          var xhr = new XMLHttpRequest();
          xhr.open("GET", "/get?hora=" + HVal, true);
          xhr.send();
        }
      </script>
    </div>
  <h4 class="titl"><span id="TSV">65</span>°C</h4>
  </div>
    <div class="elbicho">
      <input type="range" id="temp" min="40" class="slider" max="90" step="5" onchange="updateSliderTEMP(this)"
        value="%TVAL%" oninput="this.nextElementSibling.value = this.value">
    </div>
    <script>
      var TVal = document.getElementById("temp").value;
      console.log(TVal);
      document.getElementById("TSV").innerHTML = TVal;
      function updateSliderTEMP(element) {
        var TVal = document.getElementById("temp").value;
        console.log(TVal);
        document.getElementById("TSV").innerHTML = TVal;
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "/slider?temp=" + TVal, true);
        xhr.send();
      }
    </script>
    <h4 class="titl"><span id="LSV">75</span>℅</h4>
    <div class="elbicho">
      <input type="range" id="lvl" min="25" max="100" step="25" onchange="updateSliderLVL(this)" class="slider"
        value="%LVAL%" oninput="this.nextElementSibling.value = this.value">
    </div>
    <script>
      var LVal = document.getElementById("lvl").value;
      console.log(LVal);
      document.getElementById("LSV").innerHTML = LVal;
      function updateSliderLVL(element) {
        var LVal = document.getElementById("lvl").value;
        console.log(LVal);
        document.getElementById("LSV").innerHTML = LVal;
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "/slider?nivel=" + LVal, true);
        xhr.send();
      }
    </script>
    <div class="Column">
    <div class="bloqueset">
      <h2>%ERRORSAVE%</h2>
    </div>
    <div class="bloqueset">
      <p><button class="button" onclick=location.href="/S1">Guardado slot 1</button></p>
    </div>
    <div class="bloqueset">
      <h3>Guardado 1</h3>
      <h5>Hora:<span id="H1">%H1%</span>hs Nivel:<span id="L1">%L1%</span>℅</h5>
      <h5>Temperatura:<span id="T1">%T1%</span>°C</h5>
    </div>
    <div class="bloqueset">
      <p><button class="button" onclick=location.href="/S2">Guardado slot 2</button></p>
    </div>
    <div class="bloqueset">
      <h3>Guardado 2</h3>
      <h5>Hora:<span id="H2">%H2%</span>hs Nivel:<span id="L2">%L2%</span>℅</h5>
      <h5>Temperatura:<span id="T2">%T2%</span>°C</h5>
    </div>
    <div class="bloqueset">
      <p><button class="button" onclick=location.href="/S3">Guardado slot 3</button></p>
    </div>
    <div class="bloqueset">
      <h3>Guardado 3</h3>
      <h5>Hora:<span id="H3">%H3%</span>hs Nivel:<span id="L3">%L3%</span>℅</h5>
      <h5>Temperatura:<span id="T3">%T3%</span>°C</h5>
    </div>
    <div class="bloqueset">
      <p><button class="Pagechange" onclick=location.href="/RETURN">RETURN TO MAIN PAGE</button></p>
    </div>
  </div>
  <script>
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("H1").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/H1", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("L1").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/L1", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("T1").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/T1", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("H2").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/H2", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("L2").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/L2", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("T2").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/T2", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("H3").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/H3", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("L3").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/L3", true);
      xhttp.send();
  }, 500);
  setInterval(function () {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("T3").innerHTML = this.responseText;
          }
      };
      xhttp.open("GET", "/T3", true);
      xhttp.send();
  }, 500);
  </script>
</body>

</html>